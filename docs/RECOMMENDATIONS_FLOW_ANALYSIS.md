# üìä –ê–Ω–∞–ª—ñ–∑ —Å–∏—Å—Ç–µ–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π

## üîç –ü–æ—Ç–æ—á–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### 1Ô∏è‚É£ **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–ª–∞–Ω—É —Ç—Ä–µ–Ω—É–≤–∞–Ω—å** (`geminiService.ts`)

```
generateWorkoutPlan()
    ‚Üì
AI –≥–µ–Ω–µ—Ä—É—î –ø–ª–∞–Ω –ë–ï–ó recommendation
    ‚Üì
validateWorkoutSafety() - –ø–µ—Ä–µ–≤—ñ—Ä—è—î –±–µ–∑–ø–µ–∫—É –≤–ø—Ä–∞–≤
    ‚Üì
addBaseRecommendations() - –¥–æ–¥–∞—î –±–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
    ‚Üì
–ü–ª–∞–Ω –∑ –±–∞–∑–æ–≤–∏–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º–∏
```

**–ë–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó** (–∑ `injuryValidationService.ts`):
- –ü—Ä–∏—Å—ñ–¥–∞–Ω–Ω—è: "–§–æ–∫—É—Å—É–π—Ç–µ—Å—å –Ω–∞ –≥–ª–∏–±–∏–Ω—ñ..."
- –°—Ç–∞–Ω–æ–≤–∞ —Ç—è–≥–∞: "–¢—Ä–∏–º–∞–π—Ç–µ —Å–ø–∏–Ω—É –ø—Ä—è–º–æ—é..."
- –ñ–∏–º: "–ö–æ–Ω—Ç—Ä–æ–ª—é–π—Ç–µ –æ–ø—É—Å–∫–∞–Ω–Ω—è..."
- –Ü —Ç.–¥.

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ó–∞–≤–∂–¥–∏ –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ –ù–µ –≤–∏—Ç—Ä–∞—á–∞—é—Ç—å AI –∫–≤–æ—Ç—É
- ‚úÖ –®–≤–∏–¥–∫–æ
- ‚ùå –û–¥–Ω–∞–∫–æ–≤—ñ –¥–ª—è –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚ùå –ù–µ –≤—Ä–∞—Ö–æ–≤—É—é—Ç—å —Ä—ñ–≤–µ–Ω—å –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏

---

### 2Ô∏è‚É£ **–ê–Ω–∞–ª—ñ–∑ –ø—ñ—Å–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è** (`backgroundWorkoutAnalysis.ts`)

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–≤–µ—Ä—à—É—î —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
    ‚Üì
backgroundAnalysisService.analyzeCompletedWorkout()
    ‚Üì
generateWorkoutAnalysis() - AI –∞–Ω–∞–ª—ñ–∑—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
    ‚Üì
AI –≥–µ–Ω–µ—Ä—É—î –ü–ï–†–°–û–ù–ê–õ–¨–ù–Ü —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ:
  - –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–∫–æ–Ω–∞–≤ –≤–ø—Ä–∞–≤–∏
  - –Ø–∫—ñ –≤–∞–≥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤
  - –°–∫—ñ–ª—å–∫–∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω—å –∑—Ä–æ–±–∏–≤
  - –Ø–∫—ñ –≤–ø—Ä–∞–≤–∏ –ø—Ä–æ–ø—É—Å—Ç–∏–≤
    ‚Üì
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ WorkoutLog
    ‚Üì
–ü–æ–∫–∞–∑—É—é—Ç—å—Å—è –≤ –ù–ê–°–¢–£–ü–ù–û–ú–£ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—ñ
```

**AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø—ñ—Å–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è:**
- "–ß—É–¥–æ–≤–∞ —Ä–æ–±–æ—Ç–∞! –°–ø—Ä–æ–±—É–π—Ç–µ –∑–±—ñ–ª—å—à–∏—Ç–∏ –≤–∞–≥—É –Ω–∞ 2.5–∫–≥"
- "–¢–µ—Ö–Ω—ñ–∫–∞ –ø–æ—Ç—Ä–µ–±—É—î —É–≤–∞–≥–∏, –∑–æ—Å–µ—Ä–µ–¥—å—Ç–µ—Å—è –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—ñ"
- "–í–∏ –≥–æ—Ç–æ–≤—ñ –¥–æ –ø—Ä–æ–≥—Ä–µ—Å—ñ—ó - –¥–æ–¥–∞–π—Ç–µ 1 –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è"

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ
- ‚úÖ –í—Ä–∞—Ö–æ–≤—É—é—Ç—å —Ä–µ–∞–ª—å–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- ‚úÖ –ú–æ—Ç–∏–≤—É—é—á—ñ
- ‚ùå –í–∏—Ç—Ä–∞—á–∞—é—Ç—å AI –∫–≤–æ—Ç—É
- ‚ùå –î–æ—Å—Ç—É–ø–Ω—ñ —Ç—ñ–ª—å–∫–∏ –ü–Ü–°–õ–Ø –ø–µ—Ä—à–æ–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è

---

### 3Ô∏è‚É£ **–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ UI** (`ExerciseCard.tsx`)

**–°–∏—Å—Ç–µ–º–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—ñ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π:**

```typescript
// 1. –ù–ê–ô–í–ò–©–ò–ô –ü–†–Ü–û–†–ò–¢–ï–¢: –ê–¥–∞–ø—Ç–∞—Ü—ñ—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å–∞–º–æ–ø–æ—á—É—Ç—Ç—è
if (exerciseAdaptation && (setsChanged || repsChanged)) {
  return adaptationRecommendation;
}

// 2. AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
const aiRecommendation = recommendations.find(rec => rec.exerciseName === exercise.name);
if (aiRecommendation && isActive) {
  return aiRecommendation;
}

// 3. –ë–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –ø–ª–∞–Ω—É
if (exercise.recommendation?.text) {
  return baseRecommendation;
}
```

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏:**
1. üü¢ **–ê–¥–∞–ø—Ç–∞—Ü—ñ—è —Å–∞–º–æ–ø–æ—á—É—Ç—Ç—è** (—è–∫—â–æ —î)
2. üü° **AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó** (–∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è)
3. üîµ **–ë–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó** (–∑ –ø–ª–∞–Ω—É)

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞ –∑ AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º–∏ –≤ –ø–ª–∞–Ω—ñ

### ‚ùå –Ø–∫—â–æ –¥–æ–¥–∞—Ç–∏ AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –≤ `generateWorkoutPlan`:

**–©–æ –º–æ–∂–µ –∑–ª–∞–º–∞—Ç–∏—Å—è:**

1. **–ö–æ–Ω—Ñ–ª—ñ–∫—Ç –∑ `addBaseRecommendations`:**
   ```typescript
   // injuryValidationService.ts:317
   if (!exercise.recommendation || !exercise.recommendation.text) {
     // –î–æ–¥–∞—î –±–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
   }
   ```
   - –Ø–∫—â–æ AI –∑–≥–µ–Ω–µ—Ä—É—î `recommendation`, –±–∞–∑–æ–≤—ñ –ù–ï –¥–æ–¥–∞–¥—É—Ç—å—Å—è
   - –Ø–∫—â–æ AI –ù–ï –∑–≥–µ–Ω–µ—Ä—É—î, –±–∞–∑–æ–≤—ñ –¥–æ–¥–∞–¥—É—Ç—å—Å—è
   - **–ù–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞!**

2. **–ö–æ–Ω—Ñ–ª—ñ–∫—Ç –∑ AI –∞–Ω–∞–ª—ñ–∑–æ–º –ø—ñ—Å–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è:**
   - AI –≤ –ø–ª–∞–Ω—ñ: "–ó–±—ñ–ª—å—à—Ç–µ –≤–∞–≥—É –Ω–∞ 5–∫–≥"
   - AI –ø—ñ—Å–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è: "–ó–º–µ–Ω—à—Ç–µ –≤–∞–≥—É –Ω–∞ 2–∫–≥"
   - **–°—É–ø–µ—Ä–µ—á–ª–∏–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó!**

3. **–°–∏—Å—Ç–µ–º–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—ñ–≤ –≤ `ExerciseCard`:**
   ```typescript
   // –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 2: AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
   if (aiRecommendation && isActive) {
     return aiRecommendation;
   }
   
   // –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 3: –ë–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –ø–ª–∞–Ω—É
   if (exercise.recommendation?.text) {
     return baseRecommendation;
   }
   ```
   - –Ø–∫—â–æ –≤ –ø–ª–∞–Ω—ñ —î AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó, –≤–æ–Ω–∏ –∑–∞–≤–∂–¥–∏ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏–º—É—Ç—å—Å—è
   - AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –º–æ–∂—É—Ç—å –Ω–µ –ø–æ–∫–∞–∑–∞—Ç–∏—Å—è
   - **–ü–æ—Ä—É—à–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—ñ–≤!**

4. **–í–∏—Ç—Ä–∞—Ç–∞ AI –∫–≤–æ—Ç–∏:**
   - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–ª–∞–Ω—É: 1 –∑–∞–ø–∏—Ç AI
   - –ê–Ω–∞–ª—ñ–∑ –ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è: 1 –∑–∞–ø–∏—Ç AI
   - **–ü–æ–¥–≤—ñ–π–Ω–∞ –≤–∏—Ç—Ä–∞—Ç–∞ –∫–≤–æ—Ç–∏!**

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è

### **–í–∞—Ä—ñ–∞–Ω—Ç 1: –ü–æ–∫—Ä–∞—â–∏—Ç–∏ –±–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó (–†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û)**

**–©–æ –∑—Ä–æ–±–∏—Ç–∏:**
1. –î–æ–¥–∞—Ç–∏ –≤ –ø—Ä–æ–º–ø—Ç `generateWorkoutPlan` —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –¥–ª—è AI –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ `recommendation`
2. **–ù–ï –∑–º—ñ–Ω—é–≤–∞—Ç–∏** `addBaseRecommendations` - –∑–∞–ª–∏—à–∏—Ç–∏ —è–∫ fallback
3. –õ–æ–≥—ñ–∫–∞:
   ```typescript
   if (!exercise.recommendation || !exercise.recommendation.text) {
     // –î–æ–¥–∞—î –±–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¢–Ü–õ–¨–ö–ò —è–∫—â–æ AI –Ω–µ –∑–≥–µ–Ω–µ—Ä—É–≤–∞–≤
   }
   ```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ AI –≥–µ–Ω–µ—Ä—É—î –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø—Ä–æ—Ñ—ñ–ª—é
- ‚úÖ –ë–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —è–∫ fallback (—è–∫—â–æ AI –Ω–µ –∑–≥–µ–Ω–µ—Ä—É–≤–∞–≤)
- ‚úÖ –ù–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—î –∑ AI –∞–Ω–∞–ª—ñ–∑–æ–º –ø—ñ—Å–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è (—Ä—ñ–∑–Ω—ñ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏)
- ‚úÖ –ù–µ –ª–∞–º–∞—î —ñ—Å–Ω—É—é—á—É –ª–æ–≥—ñ–∫—É

**–©–æ AI –±—É–¥–µ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏:**
```json
{
  "name": "–ü—Ä–∏—Å—ñ–¥–∞–Ω–Ω—è –∑—ñ —à—Ç–∞–Ω–≥–æ—é",
  "recommendation": {
    "text": "–Ø–∫ –Ω–æ–≤–∞—á–æ–∫, –ø–æ—á–Ω—ñ—Ç—å –∑ –ª–µ–≥–∫–æ—ó –≤–∞–≥–∏ (40-50–∫–≥) –¥–ª—è –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è —Ç–µ—Ö–Ω—ñ–∫–∏. –§–æ–∫—É—Å—É–π—Ç–µ—Å—å –Ω–∞ –≥–ª–∏–±–∏–Ω—ñ –ø—Ä–∏—Å—ñ–¥–∞–Ω—å —Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π –ø–æ—Å—Ç–∞–Ω–æ–≤—Ü—ñ –Ω—ñ–≥. –ö–æ–ª–∏ —Ç–µ—Ö–Ω—ñ–∫–∞ —Å—Ç–∞–Ω–µ –≤–ø–µ–≤–Ω–µ–Ω–æ—é, –∑–±—ñ–ª—å—à—É–π—Ç–µ –≤–∞–≥—É –Ω–∞ 2.5–∫–≥ —â–æ—Ç–∏–∂–Ω—è.",
    "action": "maintain"
  }
}
```

**–ü—Ä–∏–∫–ª–∞–¥–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—ó:**
- **–ù–æ–≤–∞—á–æ–∫:** "–ü–æ—á–Ω—ñ—Ç—å –∑ –ª–µ–≥–∫–æ—ó –≤–∞–≥–∏ –¥–ª—è –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è —Ç–µ—Ö–Ω—ñ–∫–∏"
- **–î–æ—Å–≤—ñ–¥—á–µ–Ω–∏–π:** "–ü—Ä–∞—Ü—é–π—Ç–µ –∑ –≤–∞–∂–∫–∏–º–∏ –≤–∞–≥–∞–º–∏, 80-85% –≤—ñ–¥ –º–∞–∫—Å–∏–º—É–º—É"
- **–ß–æ–ª–æ–≤—ñ–∫ 80–∫–≥:** "–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –≤–∞–≥–∞ 60-70–∫–≥"
- **–ñ—ñ–Ω–∫–∞ 60–∫–≥:** "–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –≤–∞–≥–∞ 30-40–∫–≥"

---

### **–í–∞—Ä—ñ–∞–Ω—Ç 2: –ó–∞–ª–∏—à–∏—Ç–∏ —è–∫ —î**

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –í—Å–µ –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ
- ‚úÖ –ù–µ –≤–∏—Ç—Ä–∞—á–∞—î –¥–æ–¥–∞—Ç–∫–æ–≤—É AI –∫–≤–æ—Ç—É
- ‚úÖ –ù–µ–º–∞—î —Ä–∏–∑–∏–∫—É –∑–ª–∞–º–∞—Ç–∏ —â–æ—Å—å

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- ‚ùå –ë–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –æ–¥–Ω–∞–∫–æ–≤—ñ –¥–ª—è –≤—Å—ñ—Ö
- ‚ùå –ù–µ –≤—Ä–∞—Ö–æ–≤—É—é—Ç—å —Ä—ñ–≤–µ–Ω—å –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏

---

## üìù –ü–ª–∞–Ω –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è (–í–∞—Ä—ñ–∞–Ω—Ç 1)

### –ö—Ä–æ–∫ 1: –î–æ–¥–∞—Ç–∏ `recommendation` –≤ –ø—Ä–æ–º–ø—Ç

**–§–∞–π–ª:** `geminiService.ts`

**–î–æ–¥–∞—Ç–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É JSON (–ø—ñ—Å–ª—è `targetWeight`):**
```json
"recommendation": {
  "text": "<–ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –ø–æ—Ä–∞–¥–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞>",
  "action": "maintain"
}
```

**–î–æ–¥–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –¥–ª—è AI:**
```
**recommendation:** –ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –ø–æ—Ä–∞–¥–∞ –¥–ª—è –≤–ø—Ä–∞–≤–∏. –í—Ä–∞—Ö–æ–≤—É–π:
- –†—ñ–≤–µ–Ω—å –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (${experienceLevelText})
- –°—Ç–∞—Ç—å (${genderText}) —Ç–∞ –≤–∞–≥—É —Ç—ñ–ª–∞ (${weight} –∫–≥)
- –¢–∏–ø –≤–ø—Ä–∞–≤–∏ (–±–∞–∑–æ–≤–∞/—ñ–∑–æ–ª—å–æ–≤–∞–Ω–∞)
- –î–ª—è –Ω–æ–≤–∞—á–∫—ñ–≤: –∞–∫—Ü–µ–Ω—Ç –Ω–∞ —Ç–µ—Ö–Ω—ñ—Ü—ñ —Ç–∞ –±–µ–∑–ø–µ—Ü—ñ
- –î–ª—è –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏—Ö: –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—ñ—ó —Ç–∞ —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—ñ
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–æ—Ä–∞–¥–∏ –∑ —Ü–∏—Ñ—Ä–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–∑–±—ñ–ª—å—à—É–π—Ç–µ –≤–∞–≥—É –Ω–∞ 2.5–∫–≥")
```

### –ö—Ä–æ–∫ 2: –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥

**–î–æ–¥–∞—Ç–∏ –≤ –ø—Ä–∏–∫–ª–∞–¥ –≤–ø—Ä–∞–≤–∏:**
```json
{
  "name": "–ü—Ä–∏—Å—ñ–¥–∞–Ω–Ω—è –∑—ñ —à—Ç–∞–Ω–≥–æ—é –Ω–∞ –ø–ª–µ—á–∞—Ö",
  "targetWeight": 60,
  "recommendation": {
    "text": "–Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ä—ñ–≤–Ω—è, –ø—Ä–∞—Ü—é–π—Ç–µ –∑ –≤–∞–≥–æ—é 60-70–∫–≥. –§–æ–∫—É—Å—É–π—Ç–µ—Å—å –Ω–∞ –≥–ª–∏–±–∏–Ω—ñ –ø—Ä–∏—Å—ñ–¥–∞–Ω—å —Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π –ø–æ—Å—Ç–∞–Ω–æ–≤—Ü—ñ –Ω—ñ–≥. –ó–±—ñ–ª—å—à—É–π—Ç–µ –≤–∞–≥—É –Ω–∞ 2.5–∫–≥ —â–æ—Ç–∏–∂–Ω—è –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ –≤—Å—ñ—Ö –ø–æ–≤—Ç–æ—Ä–µ–Ω—å –∑ —ñ–¥–µ–∞–ª—å–Ω–æ—é —Ç–µ—Ö–Ω—ñ–∫–æ—é.",
    "action": "maintain"
  }
}
```

### –ö—Ä–æ–∫ 3: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:**
1. ‚úÖ AI –≥–µ–Ω–µ—Ä—É—î `recommendation` –¥–ª—è –∫–æ–∂–Ω–æ—ó –≤–ø—Ä–∞–≤–∏
2. ‚úÖ –Ø–∫—â–æ AI –Ω–µ –∑–≥–µ–Ω–µ—Ä—É–≤–∞–≤ - `addBaseRecommendations` –¥–æ–¥–∞—î –±–∞–∑–æ–≤—ñ
3. ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ `ExerciseCard`
4. ‚úÖ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
   - –ê–¥–∞–ø—Ç–∞—Ü—ñ—è —Å–∞–º–æ–ø–æ—á—É—Ç—Ç—è > AI –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è > AI –∑ –ø–ª–∞–Ω—É > –ë–∞–∑–æ–≤—ñ
5. ‚úÖ –ù–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—î –∑ –∞–Ω–∞–ª—ñ–∑–æ–º –ø—ñ—Å–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è

---

## üõ°Ô∏è –ì–∞—Ä–∞–Ω—Ç—ñ—ó –±–µ–∑–ø–µ–∫–∏

### –©–æ –ù–ï –∑–ª–∞–º–∞—î—Ç—å—Å—è:

1. **`addBaseRecommendations` –ø—Ä–∞—Ü—é—î —è–∫ fallback:**
   ```typescript
   if (!exercise.recommendation || !exercise.recommendation.text) {
     // –î–æ–¥–∞—î –±–∞–∑–æ–≤—ñ –¢–Ü–õ–¨–ö–ò —è–∫—â–æ AI –Ω–µ –∑–≥–µ–Ω–µ—Ä—É–≤–∞–≤
   }
   ```

2. **–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ –≤ `ExerciseCard` –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è:**
   - AI –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –º–∞—î –≤–∏—â–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
   - AI –∑ –ø–ª–∞–Ω—É - –Ω–∏–∂—á–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
   - –ë–∞–∑–æ–≤—ñ - –Ω–∞–π–Ω–∏–∂—á–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç

3. **–ó–≤–æ—Ä–æ—Ç–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å:**
   - –°—Ç–∞—Ä—ñ –ø–ª–∞–Ω–∏ –±–µ–∑ `recommendation` –ø—Ä–∞—Ü—é—é—Ç—å
   - `addBaseRecommendations` –¥–æ–¥–∞—Å—Ç—å –±–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

4. **–¢–∏–ø–∏ –¥–∞–Ω–∏—Ö:**
   ```typescript
   recommendation?: {
     text: string;
     action: string;
   } | null;
   ```
   - –ü–æ–ª–µ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ
   - –ú–æ–∂–µ –±—É—Ç–∏ `null` –∞–±–æ `undefined`

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—ñ–¥—Ö–æ–¥—ñ–≤

| –ö—Ä–∏—Ç–µ—Ä—ñ–π | –ë–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó | AI –≤ –ø–ª–∞–Ω—ñ | AI –ø—ñ—Å–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è |
|----------|---------------------|------------|---------------------|
| –ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è | ‚ùå –ù—ñ | ‚úÖ –¢–∞–∫ | ‚úÖ‚úÖ –î—É–∂–µ —Ç–∞–∫ |
| –í–∏—Ç—Ä–∞—Ç–∞ –∫–≤–æ—Ç–∏ | ‚úÖ –ù—ñ | ‚ö†Ô∏è –¢–∞–∫ | ‚ö†Ô∏è –¢–∞–∫ |
| –®–≤–∏–¥–∫—ñ—Å—Ç—å | ‚úÖ‚úÖ –ú–∏—Ç—Ç—î–≤–æ | ‚ö†Ô∏è 2-5 —Å–µ–∫ | ‚ö†Ô∏è 2-5 —Å–µ–∫ |
| –¢–æ—á–Ω—ñ—Å—Ç—å | ‚ö†Ô∏è –ó–∞–≥–∞–ª—å–Ω–∞ | ‚úÖ –•–æ—Ä–æ—à–∞ | ‚úÖ‚úÖ –í—ñ–¥–º—ñ–Ω–Ω–∞ |
| –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å | ‚úÖ‚úÖ 100% | ‚úÖ 95% | ‚úÖ 95% |
| –ö–æ–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ | ‚úÖ –ó–∞–≤–∂–¥–∏ | ‚úÖ –ó–∞–≤–∂–¥–∏ | ‚ùå –ü—ñ—Å–ª—è 1-–≥–æ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

**–í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –í–∞—Ä—ñ–∞–Ω—Ç 1** - AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –≤ –ø–ª–∞–Ω—ñ –∑ fallback –Ω–∞ –±–∞–∑–æ–≤—ñ:

**–ß–æ–º—É:**
1. ‚úÖ –ü–æ–∫—Ä–∞—â—É—î UX - –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø–æ—Ä–∞–¥–∏ –∑ –ø–µ—Ä—à–æ–≥–æ –¥–Ω—è
2. ‚úÖ –ë–µ–∑–ø–µ—á–Ω–æ - –±–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —è–∫ fallback
3. ‚úÖ –ù–µ –ª–∞–º–∞—î —ñ—Å–Ω—É—é—á—É –ª–æ–≥—ñ–∫—É
4. ‚úÖ –ó–≤–æ—Ä–æ—Ç–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å
5. ‚úÖ –í–∏—Ç—Ä–∞—Ç–∞ –∫–≤–æ—Ç–∏ –≤–∏–ø—Ä–∞–≤–¥–∞–Ω–∞ (1 –∑–∞–ø–∏—Ç –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–ª–∞–Ω—É)

**–†–∏–∑–∏–∫–∏:** –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ - –≤—Å–µ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ —Ç–∞ –º–∞—î fallback.
