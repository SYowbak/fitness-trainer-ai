# Тестування Live-Синхронізації

## Що було реалізовано

✅ **Live-синхронізація wellnessCheck, adaptiveWorkoutPlan та wellnessRecommendations**

Тепер всі ці дані зберігаються у Firebase Realtime Database у live-сесії `workoutSessions/{userId}` і автоматично синхронізуються між пристроями в реальному часі.

## Як тестувати

### 1. Відкрийте додаток на двох пристроях/вкладках
- Пристрій A: `http://localhost:5173`
- Пристрій B: `http://localhost:5173` (або інший браузер/вкладка)

### 2. Увійдіть під одним акаунтом на обох пристроях

### 3. Запустіть тренування з wellnessCheck
1. На пристрої A: Натисніть "Почати тренування"
2. Заповніть wellnessCheck (енергія, сон, мотивація, втома)
3. Натисніть "Продовжити"

### 4. Перевірте live-синхронізацію
**На пристрої B** ви повинні побачити:
- ✅ Блок "Ваше самопочуття" з вашими даними
- ✅ Блок "Адаптивне тренування" з адаптаціями
- ✅ Оновлений план тренування з адаптованими вправами
- ✅ Таймер тренування синхронізований

### 5. Перевірте логи в консолі
Відкрийте DevTools (F12) на обох пристроях і подивіться логи:

**На пристрої A (де проходили wellnessCheck):**
```
Оновлюємо wellnessCheck у live-сесії: {...}
wellnessCheck успішно оновлено у live-сесії
Оновлюємо adaptiveWorkoutPlan у live-сесії: {...}
adaptiveWorkoutPlan успішно оновлено у live-сесії
Оновлюємо wellnessRecommendations у live-сесії: [...]
wellnessRecommendations успішно оновлено у live-сесії
```

**На пристрої B:**
```
Отримано оновлений wellnessCheck з live-сесії: {...}
Отримано оновлений adaptiveWorkoutPlan з live-сесії: {...}
Отримано оновлені wellnessRecommendations з live-сесії: [...]
```

## Структура даних у Firebase

### Realtime Database: `workoutSessions/{userId}`
```json
{
  "activeDay": 1,
  "sessionExercises": [...],
  "startTime": 1703123456789,
  "workoutTimer": 120,
  "wellnessCheck": {
    "energyLevel": "normal",
    "sleepQuality": "good",
    "motivation": 8,
    "fatigue": 3,
    "notes": "..."
  },
  "adaptiveWorkoutPlan": {
    "day": 1,
    "exercises": [...],
    "adaptations": [...],
    "overallAdaptation": {...}
  },
  "wellnessRecommendations": [...]
}
```

### Firestore: `workoutLogs/{logId}`
Після завершення тренування всі дані зберігаються у Firestore з тими ж полями.

## Переваги нового підходу

1. **Live-синхронізація**: wellnessCheck та adaptiveWorkoutPlan з'являються на всіх пристроях одразу
2. **Одна точка правди**: Вся інформація про активну сесію у Realtime Database
3. **Простота**: Не потрібні окремі механізми синхронізації
4. **Надійність**: Використовується та ж система, що й для таймера та прогресу

## Можливі проблеми

### Якщо синхронізація не працює:
1. Перевірте, чи увійшли під одним акаунтом на обох пристроях
2. Перевірте логи в консолі на наявність помилок
3. Перевірте правила Firebase Realtime Database
4. Перезавантажте сторінку на обох пристроях

### Якщо дані не зберігаються у Firestore:
1. Перевірте правила Firestore
2. Перевірте логи в консолі на помилки збереження
3. Переконайтеся, що тренування завершено через кнопку "Завершити тренування" 